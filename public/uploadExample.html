<html>
    <body>
            Title: <input type="text" id="title" style="width: 500px"/><br>
            Categories: <input type="text" id="categories" style="width: 500px"/><br>
            Texts: <input type="text" id="texts" style="width: 500px"/><br>
            Image: <input type="file" id="fileUpload" style="width: 500px"/><br>
            <input type="button" value="Send" onclick="uploadClicked()">            
            <script>
            function uploadClicked() {
                const formData = new FormData();
                formData.append("myFile", document.getElementById("fileUpload").files[0]);
                formData.append("title", document.getElementById("title").value)
                formData.append("categories[]", document.getElementById("categories").value.split(';'))
                formData.append("texts[]", document.getElementById("texts").value.split(';'))
                function onSuccess(e){
                    if (e.target.status === 201) {
                        var a = document.createElement('a');
                        var linkText = document.createTextNode("Your image avaliable here");
                        a.appendChild(linkText);
                        a.title = "Your image avaliable here";
                        var model = JSON.parse(e.target.responseText);
                        a.href = "http://localhost:8000/api/image/" + model.images[0].imageId;
                        document.body.appendChild(a);                        
                    }
                }                 
                var xhr = new XMLHttpRequest();
                xhr.onload = onSuccess;
                xhr.open("POST", "http://localhost:8000/api/posts", true);
                xhr.send(formData);
            }
            </script>        
    </body>
</html>
